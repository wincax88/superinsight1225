; Label Studio Process Configuration
; Priority 400 - Starts last

[program:label-studio]
command=/opt/venv/bin/label-studio start --host %(ENV_LABEL_STUDIO_HOST)s --port %(ENV_LABEL_STUDIO_PORT)s --database postgresql://%(ENV_POSTGRES_USER)s:%(ENV_POSTGRES_PASSWORD)s@localhost:5432/label_studio
directory=/app/label-studio-data
user=superinsight
autostart=true
autorestart=true
priority=400
startsecs=15
startretries=5
stopwaitsecs=30
stopsignal=TERM
redirect_stderr=true
stdout_logfile=/var/log/supervisor/label-studio.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=3
environment=LABEL_STUDIO_LOCAL_FILES_SERVING_ENABLED="true",LABEL_STUDIO_LOCAL_FILES_DOCUMENT_ROOT="/app/label-studio-data",DJANGO_DB="default",POSTGRE_HOST="localhost",POSTGRE_PORT="5432",POSTGRE_NAME="label_studio",POSTGRE_USER="%(ENV_POSTGRES_USER)s",POSTGRE_PASSWORD="%(ENV_POSTGRES_PASSWORD)s"

; Dependency on PostgreSQL
depends_on=postgres
