{
  "envId": "superinsight-prod",
  "framework": {
    "name": "superinsight-platform",
    "plugins": {
      "node": {
        "use": "@cloudbase/framework-plugin-node",
        "inputs": {
          "entry": "main.py",
          "name": "superinsight-api",
          "path": "/superinsight-api",
          "runtime": "Python3.9",
          "memorySize": 512,
          "timeout": 60,
          "envVariables": {
            "DATABASE_URL": "${env.DATABASE_URL}",
            "LABEL_STUDIO_URL": "${env.LABEL_STUDIO_URL}",
            "LABEL_STUDIO_TOKEN": "${env.LABEL_STUDIO_TOKEN}",
            "REDIS_URL": "${env.REDIS_URL}",
            "HUNYUAN_API_KEY": "${env.HUNYUAN_API_KEY}",
            "HUNYUAN_SECRET_KEY": "${env.HUNYUAN_SECRET_KEY}",
            "COS_SECRET_ID": "${env.COS_SECRET_ID}",
            "COS_SECRET_KEY": "${env.COS_SECRET_KEY}",
            "COS_REGION": "${env.COS_REGION}",
            "COS_BUCKET": "${env.COS_BUCKET}"
          }
        }
      },
      "website": {
        "use": "@cloudbase/framework-plugin-website",
        "inputs": {
          "buildCommand": "npm run build",
          "outputPath": "dist",
          "cloudPath": "/",
          "ignore": [
            ".git",
            ".gitignore",
            "node_modules",
            ".serverless",
            ".env*"
          ]
        }
      },
      "database": {
        "use": "@cloudbase/framework-plugin-database",
        "inputs": {
          "commands": [
            "npm run migrate"
          ]
        }
      }
    }
  },
  "region": "ap-shanghai",
  "functionRoot": "./",
  "functions": [
    {
      "name": "data-extractor",
      "timeout": 300,
      "envVariables": {},
      "runtime": "Python3.9",
      "memorySize": 1024,
      "handler": "src.extractors.api.main",
      "triggers": [
        {
          "name": "httpTrigger",
          "type": "http",
          "config": {
            "authType": "FUNCTION",
            "methods": ["GET", "POST", "PUT", "DELETE"]
          }
        }
      ]
    },
    {
      "name": "ai-annotator",
      "timeout": 600,
      "envVariables": {},
      "runtime": "Python3.9",
      "memorySize": 2048,
      "handler": "src.ai.factory.main",
      "triggers": [
        {
          "name": "httpTrigger",
          "type": "http",
          "config": {
            "authType": "FUNCTION",
            "methods": ["POST"]
          }
        }
      ]
    },
    {
      "name": "quality-manager",
      "timeout": 180,
      "envVariables": {},
      "runtime": "Python3.9",
      "memorySize": 512,
      "handler": "src.quality.manager.main",
      "triggers": [
        {
          "name": "httpTrigger",
          "type": "http",
          "config": {
            "authType": "FUNCTION",
            "methods": ["POST", "PUT"]
          }
        }
      ]
    }
  ],
  "storage": {
    "rules": [
      {
        "resource": "*",
        "allow": true
      }
    ]
  }
}